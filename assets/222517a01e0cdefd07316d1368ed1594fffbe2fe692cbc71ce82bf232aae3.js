!function(e){"use strict";function t(e,t){let n;return(...o)=>{clearTimeout(n),n=setTimeout((()=>{e(...o)}),t)}}const n=[{name:"CodeSandbox",schemes:["http://codesandbox.io/*","https://codesandbox.io/*"].map(o)},{name:"Typeform",schemes:["http://*.typeform.com/*","https://*.typeform.com/*"].map(o)},{name:"Tally Forms",schemes:["http://tally.so/*","https://tally.so/*"].map(o)},{name:"Flourish",schemes:["https?://public.flourish.studio/*"].map(o)},{name:"Flourish App",schemes:["https?://(app.flourish.studio|flourish-user-preview.com)/api/canva/embed/(visualisation|story)/[0-9]+/[A-Za-z0-9_-]{64}/"].map(o)},{name:"Google Forms",schemes:["https?://docs.google.com/forms/*","https?://forms.gle/*"].map(o)},{name:"Google Docs",schemes:["https?://docs.google.com/document/*"].map(o)},{name:"Google Sheets",schemes:["https?://docs.google.com/spreadsheets/*"].map(o)},{name:"Google Slides",schemes:["https?://docs.google.com/presentation/*"].map(o)}];function o(e){const t=e.replace(/[.]/g,"\\.").replace(/[*]/g,".*");return new RegExp(`^${t}$`)}function i(e){return n.some((t=>t.schemes.some((t=>t.test(e)))))}const s=new Map,a=new Map,c=new Map,r=()=>document.querySelectorAll('[id^="embed-"]');function h(e,t){e.contentWindow&&(!function(e){const t=e.clientWidth,n=e.clientHeight,o=t/n;a.set(e,{width:t,height:n,contentHeight:n,aspectRatio:o})}(t),s.set(e.contentWindow,t),1===s.size&&window.addEventListener("message",l))}function l(e){const n=e.source,o=s.get(n);if(!o||"https://cdn.iframe.ly"!==e.origin)return;const a=function(e){const t="string"==typeof e?JSON.parse(e):e,{method:n,url:o}=t;if("resize"===n){return parseFloat(t.height)?{type:"height",height:t.height,url:o}:void 0}if("setIframelyEmbedData"===n||"setIframelyWidgetSize"===n){const{data:e}=t;if(e&&e.media){const t=parseFloat(e.media["aspect-ratio"]),n=parseFloat(e.media.height);if(t)return{type:"aspectRatio",aspectRatio:t,url:o};if(n)return{type:"height",height:n,url:o}}}}(e.data);if(null==a)return;i(a.url)||("aspectRatio"===a.type?d(a,o):function(e,n,o){let i=c.get(o);i||(i=t((e=>{d(e,n),c.delete(o)}),300));c.set(o,i),i(e)}(a,o,n))}function d(e,t){const n=a.get(t);if(null==n)return;let o;switch(e.type){case"height":o=e.height;break;case"aspectRatio":o=n.width/e.aspectRatio;break;default:return}const i=t.querySelector("div");if(s=o,c=n.contentHeight,Math.abs(s-c)<5||null==i)return;var s,c;const{height:r,aspectRatio:h}=n,l=r/o,d=o*h;t.style.overflow="hidden",t.style.position="relative",i.style.height=`${o}px`,i.style.width=`${d}px`,i.style.transform=`scale(${l})`,i.style.position="absolute",i.style.transformOrigin="0px 0px",a.set(t,{...n,contentHeight:o})}function m(){r().forEach((e=>{const t=e.querySelector("div");if(t){t.style.width="100%",t.style.height="100%",t.style.transform="scale(1)";const n=e.clientWidth,o=e.clientHeight,i=n/o;a.set(e,{width:n,height:o,contentHeight:o,aspectRatio:i})}}))}r().forEach((e=>{const t=e.querySelector("iframe"),n=document.createElement("div");null!=t&&(e.replaceChildren(),n.appendChild(t),e.appendChild(n),h(t,e))})),function(e,n){let o=(null==n?void 0:n.runOnLoad)?void 0:document.documentElement.clientWidth,i=(null==n?void 0:n.runOnLoad)?void 0:window.innerHeight;const s=()=>{const t={runOnLoad:!1,runOnWidthChange:!0,runOnHeightChange:!1,...n},s=document.documentElement.clientWidth,a=window.innerHeight,c=i!==a;(o!==s&&t.runOnWidthChange||c&&t.runOnHeightChange)&&e(),o=s,i=a},a=t(s,100);window.addEventListener("resize",a),(null==n?void 0:n.runOnLoad)&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s())}(m),e.checkFreeformResizing=i,Object.defineProperty(e,"__esModule",{value:!0})}({});
